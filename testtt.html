<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalhes do Ator</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #181818;
            color: #e0e0e0;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            width: 95%;
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background-color: #222;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            align-items: center; /* Center content horizontally */
        }

        h1 {
            color: #fff;
            text-align: center;
            margin-bottom: 20px;
            text-shadow: 2px 2px 3px rgba(0,0,0,0.3);
        }

        .actor-image {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin-bottom: 20px;
            display: block; /* Ensure image is block level */
            margin-left: auto;  /* Center horizontally */
            margin-right: auto; /* Center horizontally */
        }

        .actor-details {
            text-align: left; /* Align details to the left */
            width: 100%;       /* Take full width of container */
        }

        .actor-details p {
            margin-bottom: 10px;
            line-height: 1.6;
        }

        .detail-label {
            font-weight: bold;
            color: #bbb; /* Muted label color */
            margin-right: 10px;
            display: inline-block; /* Keep label and value on same line */
            width: 120px;       /* Fixed width for labels */
            text-align: right;  /* Align labels to the right */
        }

        .detail-value {
            display: inline-block; /* Keep label and value on same line */
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 id="actor-name-header">Detalhes do Ator</h1> <!-- Placeholder for actor name -->
        <img id="actor-image" src="" alt="Actor Image" class="actor-image" style="display:none;">
        <div id="actor-details" class="actor-details">
            <p><span class="detail-label">Nome:</span> <span id="actor-detail-nome" class="detail-value"></span></p>
            <p><span class="detail-label">Idade:</span> <span id="actor-detail-idade" class="detail-value"></span></p>
            <p><span class="detail-label">Data de Nascimento:</span> <span id="actor-detail-dataNascimento" class="detail-value"></span></p>
            <p><span class="detail-label">País:</span> <span id="actor-detail-pais" class="detail-value"></span></p>
            <p><span class="detail-label">Etnia:</span> <span id="actor-detail-etnia" class="detail-value"></span></p>
            <p><span class="detail-label">Cor do Cabelo:</span> <span id="actor-detail-corCabelo" class="detail-value"></span></p>
            <p><span class="detail-label">Cor dos Olhos:</span> <span id="actor-detail-corOlhos" class="detail-value"></span></p>
            <p><span class="detail-label">Altura:</span> <span id="actor-detail-altura" class="detail-value"></span></p>
            <p><span class="detail-label">Peso:</span> <span id="actor-detail-peso" class="detail-value"></span></p>
            <p><span class="detail-label">Tipo de Corpo:</span> <span id="actor-detail-tipoCorpo" class="detail-value"></span></p>
            <p><span class="detail-label">Medidas:</span> <span id="actor-detail-medidas" class="detail-value"></span></p>
            <p><span class="detail-label">Nota:</span> <span id="actor-detail-nota" class="detail-value"></span></p>
            <!-- Add more details as needed -->
        </div>
    </div>

    <!-- Firebase SDK (using CDN) - Make sure to include -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>

    <script type="module">
        // **IMPORTANT:**  Use the same Firebase config as in index.html
        const firebaseConfig = {
          apiKey: "YOUR_API_KEY",
          authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
          projectId: "YOUR_PROJECT_ID",
          storageBucket: "YOUR_PROJECT_ID.appspot.com",
          messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
          appId: "YOUR_APP_ID",
          measurementId: "YOUR_MEASUREMENT_ID" // Optional
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        document.addEventListener('DOMContentLoaded', () => {
            loadActorDetails();
        });

        async function loadActorDetails() {
            const urlParams = new URLSearchParams(window.location.search);
            const actorId = urlParams.get('id'); // Get the 'id' from the URL query parameters

            if (!actorId) {
                console.error("No actor ID provided in URL.");
                document.getElementById('actor-details').innerHTML = '<p>Actor ID inválido.</p>';
                return;
            }

            try {
                const docSnapshot = await db.collection('atores').doc(actorId).get(); // Fetch actor by ID
                if (docSnapshot.exists) {
                    const actorData = docSnapshot.data();
                    displayActorDetails(actorData);
                } else {
                    console.log(`Actor with ID ${actorId} not found.`);
                    document.getElementById('actor-details').innerHTML = '<p>Ator não encontrado.</p>';
                }
            } catch (error) {
                console.error("Error fetching actor details:", error);
                document.getElementById('actor-details').innerHTML = '<p>Erro ao carregar detalhes do ator.</p>';
            }
        }

        function displayActorDetails(actor) {
            document.getElementById('actor-name-header').textContent = actor.nome; // Set page header to actor's name
            document.getElementById('actor-detail-nome').textContent = actor.nome || 'N/A';
            document.getElementById('actor-detail-idade').textContent = actor.idade || 'N/A';
            document.getElementById('actor-detail-dataNascimento').textContent = actor.dataNascimento || 'N/A';
            document.getElementById('actor-detail-pais').textContent = actor.pais || 'N/A';
            document.getElementById('actor-detail-etnia').textContent = actor.etnia || 'N/A';
            document.getElementById('actor-detail-corCabelo').textContent = actor.corCabelo || 'N/A';
            document.getElementById('actor-detail-corOlhos').textContent = actor.corOlhos || 'N/A';
            document.getElementById('actor-detail-altura').textContent = actor.altura || 'N/A';
            document.getElementById('actor-detail-peso').textContent = actor.peso || 'N/A';
            document.getElementById('actor-detail-tipoCorpo').textContent = actor.tipoCorpo || 'N/A';
            document.getElementById('actor-detail-medidas').textContent = actor.medidas || 'N/A';
            document.getElementById('actor-detail-nota').textContent = actor.nota || 'N/A';

            const actorImage = document.getElementById('actor-image');
            if (actor.foto) {
                actorImage.src = actor.foto;
                actorImage.style.display = 'block'; // Show image if URL is available
            } else {
                actorImage.style.display = 'none'; // Hide image if no URL
            }
        }
    </script>
</body>
</html>
